(self.webpackChunkapp_ambep=self.webpackChunkapp_ambep||[]).push([[2963],{2963:(e,o,t)=>{"use strict";t.r(o),t.d(o,{Tab3PageModule:()=>C});var n=t(8809),r=t(4905),i=t(1116),a=t(1462),s=t(8619),l=t(373),c=t(5700),p=t(8205),d=t(7696),u=t(6620);function g(e,o){if(1&e){const e=s.EpF();s.TgZ(0,"ion-item",4),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().openPage(o)}),s.TgZ(1,"ion-label",5),s._uU(2),s.qZA(),s._UZ(3,"ion-icon",6),s.qZA()}if(2&e){const e=o.$implicit;s.xp6(2),s.Oqu(e.titulo)}}let m=(()=>{class e{constructor(e,o,t,n,r,i,a,s,l){this.router=e,this.navCtrl=o,this.loadingController=t,this.toastController=n,this.fileOpener=r,this.transfer=i,this.controleAcessoProvider=a,this.file=s,this.appComponent=l}ngOnInit(){}openPage(e){setTimeout(()=>{null!=e.guid&&this.controleAcessoProvider.navegacaoGravar(e.guid).then(e=>{console.log(e)})},100),"WebViewPdfPage"!==e.componente?this.router.navigate([e.route],{queryParams:e}):this.download(e.param)}getMenus(){return void 0===this.appComponent.menus?[]:this.appComponent.menus.filter(e=>"CARTEIRINHA"!==e.constante||this.appComponent.temCarteirinha&&"CARTEIRINHA"===e.constante)}download(e){let o=e.split("/"),t=o[o.length-1].replace(".pdf",""),n=this;n.loading=this.loadingController.create({cssClass:"my-custom-class",message:"Aguarde...",duration:-1}),n.loading.then(e=>{e.present()}),n.fileOpener.open(n.file.dataDirectory+t+".pdf","application/pdf").then(()=>{console.log("File is opened"),n.loading.then(e=>{e.dismiss()}),n.toastController.create({message:"Arquivo dispon\xedvel!",position:"bottom",duration:3e3}).then(e=>{e.present()})}).catch(()=>{n.fileTransfer=n.transfer.create(),n.fileTransfer.download(e,n.file.dataDirectory+t+".pdf").then(e=>{console.log("download complete: "+e.toURL()),n.fileOpener.open(e.toURL(),"application/pdf").then(()=>{console.log("File is opened"),n.loading.then(e=>{e.dismiss()}),n.toastController.create({message:"Arquivo dispon\xedvel!",position:"bottom",duration:3e3}).then(e=>{e.present()})}).catch(e=>{console.log("Error opening file",e),n.loading.then(e=>{e.dismiss()}),n.toastController.create({message:"Identificamos uma dificuldade em abrir o pdf. Por favor, tente novamente!",position:"bottom",duration:6e3,color:"danger"}).then(e=>{e.present()})})}).catch(e=>{console.log("Error download file",e),n.loading.then(e=>{e.dismiss()}),n.toastController.create({message:"Identificamos uma dificuldade em acessar o pdf. Por favor, tente novamente!",position:"bottom",duration:6e3,color:"danger"}).then(e=>{e.present()})})})}}return e.\u0275fac=function(o){return new(o||e)(s.Y36(r.F0),s.Y36(n.SH),s.Y36(n.HT),s.Y36(n.yF),s.Y36(l.u),s.Y36(c.K),s.Y36(p.N),s.Y36(d.$),s.Y36(u.y))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-tab3"]],decls:8,vars:2,consts:[[1,"meu-menu",3,"fullscreen"],[2,"text-align","center","padding","20px"],["src","../../assets/img/logo-ambep.png",2,"width","50%"],["style","background-color: transparent; color: rgb(129, 135, 151);font-weight: 300; border: none",3,"click",4,"ngFor","ngForOf"],[2,"background-color","transparent","color","rgb(129, 135, 151)","font-weight","300","border","none",3,"click"],[2,"font-weight","bolder !important","font-size","18px"],["name","chevron-forward-outline"]],template:function(e,o){1&e&&(s.TgZ(0,"ion-content",0),s.TgZ(1,"div",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"ion-list"),s.YNc(4,g,4,1,"ion-item",3),s.TgZ(5,"ion-item",4),s.NdJ("click",function(){return o.openPage({route:"/login"})}),s.TgZ(6,"ion-label",5),s._uU(7,"Sair"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("fullscreen",!0),s.xp6(4),s.Q6J("ngForOf",o.getMenus()))},directives:[n.W2,n.q_,i.sg,n.Ie,n.Q$,n.gu],styles:[".meu-menu[_ngcontent-%COMP%]{background-color:#4aa3df!important;color:#f0f0f0}"]}),e})();var f=t(940);const h=[{path:"",component:m}];let b=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.Bz.forChild(h)],r.Bz]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.Pc,i.ez,a.u5,f.e,r.Bz.forChild([{path:"",component:m}]),b]]}),e})()}}]);