{"version":3,"sources":["./src/app/tab1/tab1-routing.module.ts","./src/app/tab1/tab1.module.ts","./src/app/tab1/tab1.page.ts","./src/app/tab1/tab1.page.scss","./src/app/tab1/tab1.page.html"],"names":[],"mappings":"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","file":"src_app_tab1_tab1_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab1Page } from './tab1.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab1Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab1PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab1PageRoutingModule } from './tab1-routing.module';\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab1PageRoutingModule,\n    LazyLoadImageModule\n  ],\n  declarations: [Tab1Page]\n})\nexport class Tab1PageModule {}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { LoadingController, NavController, ToastController } from '@ionic/angular';\nimport { AppSettings } from 'src/core/appSettings';\nimport { ControleAcessoProvider } from 'src/providers/controle-acesso/controle-acesso';\nimport { PdfViewerService } from '../services/pdf-viewer.service';\nimport { File } from \"@ionic-native/file/ngx\";\nimport { FileTransfer } from \"@ionic-native/file-transfer/ngx\";\nimport { FileTransferObject } from \"@ionic-native/file-transfer\";\nimport { Util } from 'src/core/util';\nimport { AppComponent } from '../app.component';\n\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss']\n})\nexport class Tab1Page {\n  public loading: any;\n  public defaultImage = '../../assets/img/main-topo.png?v=' + Util.newGuid();\n  public dinamicImage = AppSettings.img.imgPublica + 'app/tela-inicial/main-topo.png?v=' + Util.newGuid();\n  public defaultIcone = '../../assets/img/main-icone/default.png';\n  public fileTransfer: FileTransferObject;\n\n  constructor(\n    private router: Router,\n    public navCtrl: NavController,\n    private controleAcessoProvider: ControleAcessoProvider,\n    public loadingController: LoadingController,\n    public toastController: ToastController,\n    public pdfViewerService: PdfViewerService,\n    private fileOpener: FileOpener,\n    private transfer: FileTransfer,\n    private file: File,\n    public appComponent: AppComponent\n  ) { }\n\n  ngOnInit() {\n\n    console.log('Hello Tab1Page');\n\n  }\n\n  getBlocos(): Array<any> {\n\n    if (this.appComponent.menus === undefined) { return []; }\n\n    return this.appComponent.menus.filter((el) => { return (el.constante !== 'CARTEIRINHA' || (this.appComponent.temCarteirinha && el.constante === 'CARTEIRINHA')) && el.isBlocoInicial === true; });\n  }\n\n  openPage(page): void {\n\n    setTimeout(() => {\n      if (page.guid !== null && page.guid !== undefined) {\n        this.controleAcessoProvider.navegacaoGravar(page.guid).then((result: any) => {\n          console.log(result);\n        });\n      }\n    }, 100);\n\n    if (page.componente === 'WebViewPdfPage') {\n      this.download(page.param);\n      return;\n    }\n\n    this.router.navigate([page.route], {\n      queryParams: page,\n    });\n  }\n\n  getUrlIcone(icone) {\n\n    return AppSettings.img.imgPublica + 'app/tela-inicial/main-icone/' + icone + '.png';\n\n  }\n\n  getDefaltIcone(icone) {\n\n    return '../../assets/img/main-icone/' + icone + '.png';\n\n  }\n\n  download(url: string) {\n\n    let arrayUrl = url.split('/');\n    let title = arrayUrl[arrayUrl.length - 1].replace('.pdf', '');\n    let _this = this;\n    _this.loading = this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Aguarde...',\n      duration: -1\n    });\n    _this.loading.then((t) => { t.present() });\n\n    _this.fileOpener.open(_this.file.dataDirectory + title + \".pdf\", \"application/pdf\").then(() => {\n      console.log(\"File is opened\");\n      _this.loading.then((t) => { t.dismiss() });\n      _this.toastController.create({ message: 'Arquivo disponível!', position: 'bottom', duration: 3000 }).then((t) => { t.present() });\n    })\n      .catch(() => {\n\n        _this.fileTransfer = _this.transfer.create();\n        _this.fileTransfer.download(url, _this.file.dataDirectory + title + \".pdf\").then(entry => {\n\n          console.log(\"download complete: \" + entry.toURL());\n          _this.fileOpener.open(entry.toURL(), \"application/pdf\").then(() => {\n            console.log(\"File is opened\");\n            _this.loading.then((t) => { t.dismiss() });\n            _this.toastController.create({ message: 'Arquivo disponível!', position: 'bottom', duration: 3000 }).then((t) => { t.present() });\n          })\n            .catch(e => {\n              console.log(\"Error opening file\", e);\n              _this.loading.then((t) => { t.dismiss() });\n              _this.toastController.create({ message: 'Identificamos uma dificuldade em abrir o pdf. Por favor, tente novamente!', position: 'bottom', duration: 6000, color: 'danger' }).then((t) => { t.present() });\n            });\n        })\n          .catch(e => {\n            console.log(\"Error download file\", e);\n            _this.loading.then((t) => { t.dismiss() });\n            _this.toastController.create({ message: 'Identificamos uma dificuldade em acessar o pdf. Por favor, tente novamente!', position: 'bottom', duration: 6000, color: 'danger' }).then((t) => { t.present() });\n          });\n      });\n  }\n}\n","export default \".div-button {\\n  text-align: center;\\n}\\n\\n.div-button button {\\n  min-height: 100px;\\n  width: 80%;\\n  background: white;\\n  background: linear-gradient(180deg, white 44%, #e4e4e4 100%);\\n  border: solid 1px #e4e4e4;\\n  border-radius: 5px;\\n}\\n\\n.img-icone-button {\\n  width: 40%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYjEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBRUksa0JBQUE7QUFESjs7QUFJQTtFQUNJLGlCQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0VBQ0EsNERBQUE7RUFDQSx5QkFBQTtFQUdBLGtCQUFBO0FBREo7O0FBSUU7RUFFRSxVQUFBO0FBRkoiLCJmaWxlIjoidGFiMS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmRpdi1idXR0b25cclxue1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uZGl2LWJ1dHRvbiBidXR0b24ge1xyXG4gICAgbWluLWhlaWdodDogMTAwcHg7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDI1NSwyNTUsMjU1KTtcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsMSkgNDQlLCByZ2JhKDIyOCwyMjgsMjI4LDEpIDEwMCUpO1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggcmdiYSgyMjgsMjI4LDIyOCwxKTtcclxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgfVxyXG5cclxuICAuaW1nLWljb25lLWJ1dHRvbiB7XHJcbiAgICBcclxuICAgIHdpZHRoOiA0MCU7XHJcbiAgfSJdfQ== */\";","export default \"<ion-content class=\\\"content-padrao\\\">\\n  <img  [defaultImage]=\\\"defaultImage\\\" [lazyLoad]=\\\"dinamicImage\\\" style=\\\"width: 100%;\\\" />\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"6\\\" class=\\\"div-button\\\" *ngFor=\\\"let bloco of getBlocos()\\\">\\n        <button expand=\\\"full\\\" class=\\\"button-inicial\\\" (click)=\\\"openPage(bloco)\\\">\\n          <img class=\\\"icon img-icone-button\\\" [defaultImage]=\\\"getDefaltIcone(bloco.icone)\\\" [lazyLoad]=\\\"getUrlIcone(bloco.icone)\\\" />\\n          <br>\\n          <label>{{bloco.titulo}}</label>\\n        </button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}